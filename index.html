<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.123.4"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>笔记</title>

<meta name="description" content="笔记">
<meta name="author" content="ZhaoGuibin">
<link rel="canonical" href="http://zhaoguibin.me/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5808ef06ea07837faec0302cd32de32901cde29a20f23e11d65db5e1339352ff.css" integrity="sha256-WAjvBuoHg3&#43;uwDAs0y3jKQHN4pog8j4R1l214TOTUv8=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://zhaoguibin.me/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://zhaoguibin.me/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://zhaoguibin.me/assets/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://zhaoguibin.me/apple-touch-icon.png">
<link rel="mask-icon" href="http://zhaoguibin.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://zhaoguibin.me/index.xml">
<link rel="alternate" type="application/json" href="http://zhaoguibin.me/index.json">
<link rel="alternate" hreflang="en" href="http://zhaoguibin.me/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="笔记" />
<meta property="og:description" content="笔记" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://zhaoguibin.me/" /><meta property="og:image" content="http://zhaoguibin.me/images/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://zhaoguibin.me/images/papermod-cover.png"/>

<meta name="twitter:title" content="笔记"/>
<meta name="twitter:description" content="笔记"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "笔记",
  "url": "http://zhaoguibin.me/",
  "description": "笔记",
  "thumbnailUrl": "http://zhaoguibin.me/assets/favicon.ico",
  "sameAs": [
      "https://github.com/zhaoguibin"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://zhaoguibin.me/" accesskey="h" title="笔记 (Alt + H)">笔记</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://zhaoguibin.me/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://zhaoguibin.me/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://zhaoguibin.me/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>笔记</h1>
    </header>
    <div class="entry-content">
        🌟 不积跬步，无以至千里 🌟
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
    <a href="https://github.com/zhaoguibin" target="_blank" rel="noopener noreferrer me"
        title="View Source on Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Alpine Linux 更改时区
    </h2>
  </header>
  <div class="entry-content">
    <p>查看时区 date -R 安装tzdata依赖 apk add --no-cache tzdata 查看tzdata包含的时区 ls /usr/share/zoneinfo 输出 ls /usr/share/zoneinfo Africa CET Egypt GMT&#43;0 Iran MST7MDT Poland UTC zone.tab America CST6CDT Eire GMT-0 Israel Mexico Portugal Universal zone1970.tab Antarctica Canada Etc GMT0 Jamaica NZ ROC W-SU Arctic Chile Europe Greenwich Japan NZ-CHAT ROK WET Asia Cuba Factory HST Kwajalein Navajo Singapore Zulu Atlantic EET GB Hongkong Libya PRC Turkey iso3166.tab Australia EST GB-Eire Iceland MET PST8PDT UCT posixrules Brazil EST5EDT GMT Indian MST Pacific US right 复制时区文件 如果localtime文件已经存在，可以先备份后删除。...</p>
  </div>
  <footer class="entry-footer"><span title='2024-03-26 21:51:55 +0000 UTC'>March 26, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to Alpine Linux 更改时区" href="http://zhaoguibin.me/posts/alpine-linux-%E6%9B%B4%E6%94%B9%E6%97%B6%E5%8C%BA/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Github通过sshkey的方式拉取代码报错kex_exchange_identification
    </h2>
  </header>
  <div class="entry-content">
    <p>Git生成密钥 设定Git的username和email git config --global user.name &#34;你的用户名&#34; git config --global user.email &#34;你的邮箱&#34; 创建SSH key cd ~/.ssh ssh-keygen -t rsa -C &#34;你的邮箱&#34; 会出现以下的提示 Generating public/private rsa key pair. Enter file in which to save the key (~/.ssh/id_rsa): 一路回车默认就可以了，这样你的公钥和私钥就同时保存在了~/.ssh/下了。
获取SSH key cat id_rsa.pub Github添加SSH key 以上都配置了还不行就执行这一步 将 Github 的连接端口从 22 改为 443 即可 编辑 ~/.ssh/config 文件（没有就新增），windows在用户目录下的.ssh目录，添加如下内容
Host github.com HostName ssh.github.com User git Port 443 验证： ssh -T git@github.com 输出
Enter passphrase for key &#39;~/....</p>
  </div>
  <footer class="entry-footer"><span title='2024-03-26 21:31:13 +0000 UTC'>March 26, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to Github通过sshkey的方式拉取代码报错kex_exchange_identification" href="http://zhaoguibin.me/posts/github%E9%80%9A%E8%BF%87sshkey%E7%9A%84%E6%96%B9%E5%BC%8F%E6%8B%89%E5%8F%96%E4%BB%A3%E7%A0%81%E6%8A%A5%E9%94%99kex_exchange_identification/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ios上使用iSH的git同步iRime
    </h2>
  </header>
  <div class="entry-content">
    <p>安装软件 安装好以下软件：git、vim、openssh
apk add git vim openssh 打开ish设置 设置git git config --global user.name &#34;你注册GitHub账号的名字&#34; git config --global user.email &#34;你注册GitHub账号用的邮箱&#34; 查看公钥 cat ~/.ssh/id_ed25519.pub 如果没有就生成公钥 ssh-keygen -t ed25519 -C &#34;&lt;注释内容&gt;&#34; 再次查看显示公钥,公钥添加到GitHub的SSH keys cat ~/.ssh/id_ed25519.pub 挂载文件夹 会弹出文件夹选择框，选择你要挂载的目录，比如下载目录，确定后即挂载到 /mnt 目录中
mount -t ios . dir_name git设置 #禁用安全目录 git config --global --add safe.directory /path </p>
  </div>
  <footer class="entry-footer"><span title='2024-03-26 20:15:37 +0000 UTC'>March 26, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to ios上使用iSH的git同步iRime" href="http://zhaoguibin.me/posts/ios%E4%B8%8A%E4%BD%BF%E7%94%A8ish%E7%9A%84git%E5%90%8C%E6%AD%A5irime/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">mac使用fswatch监控文件夹修改并执行shell脚本
    </h2>
  </header>
  <div class="entry-content">
    <p>安装 fswatch 需要安装 fswatch。可以使用 Homebrew 来安装： brew install fswatch 创建启动脚本 创建一个脚本来启动 fswatch 并执行相应的操作。创建一个脚本文件，比如 watch_files.sh，并添加以下内容：
#!/bin/bash # 监视目录中的文件更改并执行脚本 fswatch -0 /path/to/directory | xargs -0 -n 1 /path/to/script.sh 将 /path/to/directory 替换为要监视的目录，将 /path/to/script.sh 替换为要在文件更改时执行的 shell 脚本的路径。
创建启动项 创建一个 Launchd 启动项，以便在系统启动时运行脚本。创建一个 .plist 文件，比如 com.example.watchfiles.plist，并将以下内容添加到文件中：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt; &lt;plist version=&#34;1.0&#34;&gt; &lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;com.example.watchfiles&lt;/string&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;/bin/bash&lt;/string&gt; &lt;string&gt;/path/to/watch_files.sh&lt;/string&gt; &lt;/array&gt; &lt;key&gt;RunAtLoad&lt;/key&gt; &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; 将 com.example.watchfiles 替换为自己的标识符，并将 /path/to/watch_files.sh 替换为您创建的脚本的路径。
安装启动项 将 ....</p>
  </div>
  <footer class="entry-footer"><span title='2024-02-22 12:11:23 +0000 UTC'>February 22, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to mac使用fswatch监控文件夹修改并执行shell脚本" href="http://zhaoguibin.me/posts/mac%E4%BD%BF%E7%94%A8fswatch%E7%9B%91%E6%8E%A7%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BF%AE%E6%94%B9%E5%B9%B6%E6%89%A7%E8%A1%8Cshell%E8%84%9A%E6%9C%AC/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Golang base64转图片
    </h2>
  </header>
  <div class="entry-content">
    <p>package main import ( &#34;encoding/base64&#34; &#34;fmt&#34; &#34;io/ioutil&#34; &#34;os&#34; &#34;path/filepath&#34; &#34;strings&#34; ) func main() { // 从命令行参数获取文件夹路径 if len(os.Args) &lt; 2 { fmt.Println(&#34;请提供要处理的文件夹路径&#34;) return } folderPath := os.Args[1] // 检查文件夹是否存在 _, err := os.Stat(folderPath) if os.IsNotExist(err) { fmt.Println(&#34;指定的文件夹路径不存在&#34;) return } // 获取上级目录路径 parentFolderPath := filepath.Dir(folderPath) // 获取原始文件夹名称并创建保存图片的文件夹 imageFolderName := filepath.Base(folderPath) &#43; &#34;_image&#34; imageFolderPath := filepath.Join(parentFolderPath, imageFolderName) err = os.Mkdir(imageFolderPath, 0755) if err != nil { fmt.Println(&#34;无法创建图片文件夹:&#34;, err) return } // 遍历文件夹 err = filepath....</p>
  </div>
  <footer class="entry-footer"><span title='2024-01-03 21:51:21 +0000 UTC'>January 3, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to Golang base64转图片" href="http://zhaoguibin.me/posts/golang-base64%E8%BD%AC%E5%9B%BE%E7%89%87/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Golang图片转base64
    </h2>
  </header>
  <div class="entry-content">
    <p>package main import ( &#34;encoding/base64&#34; &#34;fmt&#34; &#34;io/ioutil&#34; &#34;os&#34; &#34;path/filepath&#34; ) func main() { // 从命令行参数获取文件夹路径 if len(os.Args) &lt; 2 { fmt.Println(&#34;请提供要处理的文件夹路径&#34;) return } folderPath := os.Args[1] // 检查文件夹是否存在 _, err := os.Stat(folderPath) if os.IsNotExist(err) { fmt.Println(&#34;指定的文件夹路径不存在&#34;) return } // 获取上级目录路径 parentFolderPath := filepath.Dir(folderPath) // 获取原始文件夹名称 base64FolderName := filepath.Base(folderPath) &#43; &#34;_base64&#34; // 创建保存 base64 文件的文件夹 base64FolderPath := filepath.Join(parentFolderPath, base64FolderName) err = os.Mkdir(base64FolderPath, 0755) if err != nil { fmt.Println(&#34;无法创建 base64 文件夹:&#34;, err) return } // 遍历文件夹 err = filepath....</p>
  </div>
  <footer class="entry-footer"><span title='2024-01-03 21:45:21 +0000 UTC'>January 3, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to Golang图片转base64" href="http://zhaoguibin.me/posts/golang%E5%9B%BE%E7%89%87%E8%BD%ACbase64/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">linux任务按秒执行
    </h2>
  </header>
  <div class="entry-content">
    <p>#!/bin/bash path=$(dirname &#34;$PWD&#34;) php_bin=&#34;/usr/local/php/bin/php&#34; while true; do cd $path &amp;&amp; $php_bin think crontab_1 &amp;&amp; $php_bin think crontab_2 # 等待五秒钟 sleep 5 done </p>
  </div>
  <footer class="entry-footer"><span title='2024-01-03 21:41:25 +0000 UTC'>January 3, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to linux任务按秒执行" href="http://zhaoguibin.me/posts/linux%E4%BB%BB%E5%8A%A1%E6%8C%89%E7%A7%92%E6%89%A7%E8%A1%8C/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">图片转base64
    </h2>
  </header>
  <div class="entry-content">
    <p>&lt;?php /** * Describe: 图片转base64 * 使用方法: php imgtobase64.php path=/www/projects/test/20220623171931.png * Author: ZhaoGuibin * Date: 2022-06-23 */ class ImgToBase64 { static private $instance; private function __construct() { } static public function getInstance() { if (!self::$instance instanceof self) { self::$instance = new self(); } return self::$instance; } /** * 获取命令行输入参数 * @return array */ function getClientArgs() { global $argv; array_shift($argv); $args = array(); array_walk($argv, function ($v, $k) use (&amp;$args) { @list($key, $value) = @explode(&#39;=&#39;, $v); $args[$key] = $value; }); return $args; } /** * 图片转为base64 * @param $img_path * @return string|void */ function imgToBase64($img_path = &#39;&#39;) { $img = isset($img_path[&#39;path&#39;]) ?...</p>
  </div>
  <footer class="entry-footer"><span title='2022-07-20 19:13:31 +0000 UTC'>July 20, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to 图片转base64" href="http://zhaoguibin.me/posts/%E5%9B%BE%E7%89%87%E8%BD%ACbase64/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">迭代器模式
    </h2>
  </header>
  <div class="entry-content">
    <p>概念
迭代器模式是遍历集合的成熟模式，迭代器模式的关键是将遍历集合的任务交给一个叫做迭代器的对象，它的工作是遍历并选择序列中的对象，而客户端程序员不必知道或关心该集合序列底层的结构。
说明
迭代器模式（Iterator），又叫做游标（Cursor）模式，提供一种方法访问一个容器（Container）对象中各个元素，而又不需要暴露该对象的内部细节。 当你需要访问一个聚合对象，而且不管这些对象是什么都需要遍历的时候，就应该考虑使用迭代器模式。另外，当需要对聚集有多种方式遍历时，可以考虑去使用迭代器模式。迭代器模式为遍历不同的聚合结构提供如开始、下一个、是否结束、当前哪一项等统一的接口。 作用 我们想要像遍历数组那样，遍历对象，或是遍历一个容器。 迭代器模式可以隐藏遍历元素所需的操作 应用场景 访问一个聚合对象的内容而无需暴露它的内部表示 支持对聚合对象的多种遍历 为遍历不同的聚合结构提供一个统一的接口。 角色 Iterator（迭代器）：迭代器定义访问和遍历元素的接口 ConcreteIterator（具体迭代器）：具体迭代器实现迭代接口，对该聚合遍历时跟踪当前位置 Aggregate（聚合）：聚合定义创建相应迭代器对象的接口。 ConcreteAggregate（具体聚合）：具体聚合实现创建相应迭代器的接口，该操作返回ConcreteIterator的一个适当的实例。 &lt;?php //自定义迭代器实现系统定义迭代器接口 class MyIterator implements Iterator { protected $data = []; protected $index; public function __construct($data) { $this-&gt;data = $data; $this-&gt;index = 0; } //返回第一个元素 public function rewind() { $this-&gt;index = 0; } //下一个元素 public function next() { $this-&gt;index&#43;&#43;; } //验证是否继续 public function valid() { return $this-&gt;index &lt; count($this-&gt;data); } //返回key值 public function key() { return $this-&gt;index; } //返回当前元素 public function current() { return $this-&gt;data[$this-&gt;index]; } } $arr = [1, 2, 3, 4, 5, 6]; $iterate = new MyIterator($arr); foreach ($iterate as $dynasty) { echo &#39;the obj == &#39; ....</p>
  </div>
  <footer class="entry-footer"><span title='2022-03-26 21:19:21 +0000 UTC'>March 26, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to 迭代器模式" href="http://zhaoguibin.me/posts/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">命令模式
    </h2>
  </header>
  <div class="entry-content">
    <p>概念 将一个请求封装（命令的封装）为一个对象，从而使用你可用不同的请求对客户进行参数化；对请求排队或记录请求日志，以及支持可撤销的操作。 命令模式是对命令的封装。命令模式把发出命令的责任和执行命令的责任分隔开，委派给不同的对象。 请求的一方发出请求要求执行一个操作；接收的一方收到请求，并执行操作。命令模式允许请求的一方和接收的一方独立开来，使得请求的一方不必知道接收请求的一方的接口，更不必知道请求是怎么被接收，以及操作是否被执行、何时被执行，以及是怎么被执行的。 角色 命令（command）角色：声明了一个给所有具体命令类的抽象接口。这是一个抽象角色。 具体命令（ConcreteCommand）角色：定义一个接收者和行为之间的弱耦合；实现Execute()方法，负责调用接收到的相应操作。Execute()方法通常叫做执行方法。 客户（client）角色：创建了一个具体命令（ConcreteCommand）对象并确定其接收者。 请求者（Invoker）角色：负责调用命令对象执行请求，相关的方法叫做行动方法。 接收者（Receiver）角色：负责具体实施和执行一个请求。任何一个类都可以成为接收者，实施和执行请求的方法叫做行动方法。 优点和缺点 优点： 命令模式把请求一个操作的对象与知道怎么执行一个操作的对象分离开。 命令类与其他任何别的类一样，可以修改和推广。 可以把命令对象聚合在一起，合成为合成命令。 可以很容易的加入新的命令类。 缺点： 可能会导致某些系统有过多的具体命令类。 应用场景 抽象出待执行的动作以参数化对象。Command模式是回调机制的一个面向对象的替代品。 在不同的时刻指定、排列和执行请求。 支持取消操作 支持修改日志 用构建在原语操作上的高层操作构建一个系统。Command模式提供了对事务进行建模的方法。Command有一个公共的接口，使得你可以用同一种方式调用所有的事务。同时使用该模式也易于添加新事务以扩展系统。 &lt;?php //抽象命令接口 interface Command { //命令执行 public function execute(); } //宏命令（命令的组合） //宏命令接口 interface MacroCommand extends Command { //宏命令聚集管理方法，可以删除一个命令 public function remove(Command $command); //宏命令聚集管理方法，可以添加一个命令 public function add(Command $command); } //命令的实现 //复制命令 class CopyCommand implements Command { private $receiver; public function __construct(Receiver $receiver) { $this-&gt;receiver = $receiver; } public function execute() { $this-&gt;receiver-&gt;copy(); } } //粘贴命令 class PasteCommand implements Command { private $receiver; public function __construct(Receiver $receiver) { $this-&gt;receiver = $receiver; } public function execute() { $this-&gt;receiver-&gt;paste(); } } //命令接收者执行命令 class Receiver { private $name; public function __construct($name) { $this-&gt;name = $name; } public function copy() { echo $this-&gt;name ....</p>
  </div>
  <footer class="entry-footer"><span title='2022-03-26 21:15:24 +0000 UTC'>March 26, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;ZhaoGuibin</footer>
  <a class="entry-link" aria-label="post link to 命令模式" href="http://zhaoguibin.me/posts/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://zhaoguibin.me/page/2/">Next&nbsp;2/15&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://zhaoguibin.me/">笔记</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
